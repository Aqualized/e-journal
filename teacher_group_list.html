<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Список групп</title>
  <link rel="stylesheet" href="css/style_group_list.css">
</head>

<body>
  <header>
    <button class="menu-toggle" onclick="openSidebar()">☰</button>
  </header>
  <!-- Левый выдвижной сайдбар -->
  <div id="sidebar-left" class="sidebar-left">
    <button class="closebtn" onclick="closeSidebar()">&times;</button>
    <ul id="subjects-list" class="subjects-list">
    </ul>
  </div>

  <!-- Основной контент -->
  <div id="main-content" class="container">
    <div class="content">
      <h1>Список групп <span>(Предмет: Математика)</span></h1>
      <input type="text" placeholder="Введите название" class="search-input">
      <div class="groups">
        <div class="group">
          <p class="group-code">522-887-45</p>
          <p>Количество студентов: 20</p>
          <p>Староста: x.x.xxxxxx<br>+79121233212</p>
        </div>
        <div class="group">
          <p class="group-code">522-821-22</p>
          <p>Количество студентов: 23</p>
          <p>Староста: x.x.xxxxxx<br>+79121233212</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Правый статичный сайдбар -->
  <div class="sidebar-right">
    <button>Инструменты аналитики предмета</button>
    <button>Вывести процент посещаемости по всем группам</button>
  </div>
  <script>
    function openSidebar() {
      document.getElementById("sidebar-left").style.width = "270px";
      document.getElementById("main-content").style.marginLeft = "270px";
    }

    function closeSidebar() {
      document.getElementById("sidebar-left").style.width = "0";
      document.getElementById("main-content").style.marginLeft = "0";
    }
    document.addEventListener('DOMContentLoaded', function () {
      // Пример данных, которые могут быть загружены из базы данных
      const subjects = [
        { name: 'Math', groups: ['Group 1', 'Group 2', 'Group 3'] },
        { name: 'Science', groups: ['Group 4', 'Group 5'] },
        { name: 'History', groups: ['Group 6'] }
      ];

      const subjectsList = document.getElementById('subjects-list');

      subjects.forEach(subject => {
        const subjectItem = document.createElement('li');
        subjectItem.className = 'subject-item';

        const subjectTitle = document.createElement('h2');
        subjectTitle.textContent = subject.name;
        subjectItem.appendChild(subjectTitle);

        const groupList = document.createElement('ul');
        groupList.className = 'group-list';

        subject.groups.forEach(group => {
          const groupItem = document.createElement('li');
          groupItem.className = 'group-item';

          const groupTitle = document.createElement('h3');
          groupTitle.textContent = group;
          groupItem.appendChild(groupTitle);

          groupItem.addEventListener('click', () => {
            alert(`Subject: ${subject.name}, Group: ${group}`);
          });

          groupList.appendChild(groupItem);
        });

        subjectItem.appendChild(groupList);
        subjectsList.appendChild(subjectItem);

        subjectItem.addEventListener('click', () => {
          const isOpen = groupList.style.maxHeight === '500px';
          groupList.style.maxHeight = isOpen ? '0' : '500px';
          groupList.style.display = isOpen ? 'none' : 'block';
        });
      });
    });

  </script>
</body>

</html>